# データバックアップ
## 1. 目的整理
- データの保護と復旧
- コンプライアンスと規制要件の順守
> 日本の医療業界では、情報セキュリティマネジメントシステム（ISMS）の国際規格であるJIS Q 15001が適用されます。この規格では、医療機関はデータのバックアップと復旧の計画を策定し、必要な情報を適切に保護することが求められます。
- 人的ミスやデータ誤削除からの保護

## 2. バックアップと復旧の計画
- 目的と要件を整理（復旧までの時間目標、データの損失許容範囲など）
- リスクとビジネスインパクトの分析（分析結果をもとに復旧の優先順位、必要なリソースな度を検討する）
- バックアップ戦略（バックアップ方法、頻度、保存場所、保管期間、バックアップ手法を決める。重複や冗長性を最小限に抑える）
- テストを実施する
- バックアップデータへのアクセス制限（データの暗号化やアクセス制限を設ける）
- ドキュメント化
- バックアップの多重化を行う

## 3. AWSリソースの機能整理
- バージョニングを設定する
- クロスリージョンへレプリケーション
- ライフサイクル設定
- AWSバックアップ

- S3バージョニング
  - S3バケット内のオブジェクトの変更や削除を追跡し、過去のバージョンを保持する機能
  - バージョニングを有効にすると、変更や削除が行われたオブジェクトの以前のバージョンを復元したり、削除を回避したりすることができる
  - データの変更や削除の追跡機能を提供する
  - データの一貫性とバージョン管理の側面

- S3ライフサイクル
  - S3バケット内のオブジェクトの保存期間やストレージクラスを管理する機能
  - 一定期間が経過したオブジェクトを低コストのストレージクラスに移動させたり、不要なオブジェクトを自動的に削除することができる
  - データの効率的な管理とコスト最適化を実現
  - S3バージョニングと連携することで、バージョン管理されたオブジェクトのライフサイクルポリシーも適用

- AWS Backup
  - AWSクラウド内のさまざまなサービスのデータバックアップを自動化および管理する統合サービス
  - バックアップスケジュールの設定、保持ポリシーの管理、復旧ポイントの選択などを中央で一元的に行う
  - S3バケット内のデータバックアップにも使用できます。
  - S3バケットのバックアッププランやポリシーの設定を簡素化し、バックアップと復旧のプロセスを一元的に管理することができる
  - S3バージョニングやS3ライフサイクルと組み合わせて使用することもできる


> AWS Backupで一定期間まで戻してバージョニングで適切なバージョンに戻す運用か？
> ライフサイクルはデータ復元というより、コスト最適化が目的のようだ
## EC2
- 数分で構築可能な従量課金の仮想サーバー
- EBS, ELB, AutoScaling はEC2のコンソールから設定する
- 停止にするとEC2の課金は停止する（EBSは課金が継続する）

## インスタンスファミリー
- t2.micro (ファミリーと世代.容量)
    - a, t, m: 汎用
    - c: コンピューティング最適化（機械学習など）
    - x, r: メモリ最適化（インメモリDBなど）
    - h, d, i: ストレージ最適化（EBSを用いた高速な大規模なデータ処理）
    - p, g, f: 高速コンピューティング（ブロックチェーンなどのGPUを使うもの）

## vCPU
- スレッドを実行する仮想CPU。実際に処理するスレッド数を決める

## ユーザーデータ
- インスタンス生成時にスクリプトを実行する機能

## ルートボリューム
- インスタンスストア or EBS がルートボリュームに設定できる
- EFS, FSx はルートボリュームに設定できない

## 公開鍵認証方式
- EC2インスタンスはpemという鍵を利用する
- EC2インスタンスのキーペアは、鍵穴がEC2インスタンス、鍵がpemファイル（ローカル）となっている
- 鍵穴の方は公開しても問題ない＝公開鍵認証方式

## SSH
- EC2にはポート22のSSHで接続する
- SSH: クライアントとリモートマシンの通信を暗号化するプロトコル
- EC2ログインコマンド
```sh
$ ssh -i ./sample.pem ec2-user@10.236.63.10
```

## 起動テンプレート
- EC2インスタンスを作成する際のテンプレートを作成できる

## Spot Instance
- 通常より安く購入できる

## Saving Pran
- 1, 3年契約を行うと割引になる購入方法
- ユーザー側で料金を決める

## リザーブドインスタンス
- 1, 3年契約を行うと割引になる購入方法
- AWS側で料金を指定する（Saving Planと設定項目が異なる）

## 専有ホスト
- 物理ホストを予約する購入方法

## ハイバネーション
- 休止状態（停止状態より高速に復旧する状態）を有効にする
> 休止動作を有効にする際、インスタンスメモリ (RAM) を格納するための容量がルートボリュームに割り当てられます。ルートボリュームが RAM の内容を保存し、予想される使用 (OS、アプリケーションなど) に対応できる十分な大きさであることを確認してください。休止状態を使用するには、ルートボリュームが暗号化された EBS ボリュームである必要があります

## AMI
- AMIを利用することで、インスタンスの複製ができる
- AMIをコピーすることで別リージョンでの複製も可能
- EC2 Image Builder
    - AMIの変更管理を行う
- AMI カタログ
    - AMIを探してインスタンスを起動することができる機能

## EBS
- EC2インスタンスと共に利用されるブロックストレージ

- ブロックストレージの種類
    - インスタンスストア：無料、物理的にアタッチされているためIO性能が高い、揮発性
    - EBS：有料、ネットワークで繋がっていて独立で管理している、停止してもデータの保持が可能

- 単一のAZで冗長化されている
- ネットワークで接続しているが、セキュリティグループなどの設定は不要
- 1つのEBSを複数のEC2で接続は不可能（プロビジョンドIOPSは除く）

- ルートボリュームのEBSはEC2の削除と共に削除される（DeleteOnTermination属性を有効化するとEBSは削除されない）
- ルートボリュームは、EC2が停止中のみデタッチ可能
- KMSで暗号化可能

- ボリュームサイズの変更は増やすことは可能だが減らすことはできない

## ENI (Elastic Network Interface)
- 仮想ネットワークカードを表すVPC内の論理ネットワーキングコンポーネント。インスタンスへのIPアドレス割り当て時に利用
- IPフローティング：Elastic IPを自動的に切り替える機能(ENIのアタッチ、デタッチで実現)
- セキュリティグループはENIと紐づいている
- 1つのEC2インスタンスに複数のENIを紐づけることができる＝1インスタンスに複数のIPアドレスを紐づけることができる

## EFA (Elastic Fablic Adapter)
- ハイパフォーマンスコンピューティングや機械学習、AI用に最適なアダプター
- ENIより高性能
- t2.microなどにはアタッチできない。cシリーズなどで利用できる
    - インスタンスファミリー
        - t, m: 汎用
        - c：コンピューティング最適化（ハイパフォーマンスコンピューティング、機械学習、AI）
- EC2を停止にしないとアタッチできない（ENIは停止しなくてもアタッチできる）

## フローログ
- ネットワークインターフェースを介してやりとりする情報をキャプチャーできる

## プレイスメントグループ
- クラスタープレイスメントグループ
    - パフォーマンス向上
    - 単一AZ内でのみ利用可能
    - 低レイテンシー
- パーティションプレイスメントグループ
    - 耐障害性
    - グループにまとめたインスタンス群をラックで分離することで別のインスタンスに影響を与えない
    - 初期設定時にパーティションの数を設定する
- スプレッドプレイスメントグループ
    - 耐障害性
    - 1ラックに1インスタンス
    - インスタンスファミリーに制限がある

- プレイスメントグループを作った後に作成したインスタンスのみ割り当て可能
- EC2インスタンス作成時の高度な設定で設定する